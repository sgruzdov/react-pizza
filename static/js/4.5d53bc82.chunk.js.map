{"version":3,"sources":["components/Categories.tsx","components/PizzaBlock.tsx","components/SortPopup.tsx","pages/Home.tsx"],"names":["Categories","React","memo","filters","useSelector","state","categories","activeItem","activeCategory","dispatch","useDispatch","className","cn","onClick","type","HANDLE_ACTIVE_CATEGORY","payload","map","item","PizzaBlock","useState","types","activeType","setActiveType","sizes","activeSize","setActiveSize","src","imageUrl","alt","title","name","index","includes","size","price","width","height","viewBox","fill","xmlns","d","SortPopup","visiblePopup","setVisiblePopup","sortRef","useRef","sort","activeSort","handleOutsideClick","e","path","current","useEffect","document","body","addEventListener","removeEventListener","console","log","ref","find","HANDLE_ACTIVE_SORT","Home","pizzas","getPizzasThunk","id"],"mappings":"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","file":"static/js/4.5d53bc82.chunk.js","sourcesContent":["import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport cn from 'classnames'\n\nimport { HANDLE_ACTIVE_CATEGORY } from '../redux/reducers/filtersReducer'\nimport { AppStateType } from '../redux/store'\n\nconst Categories: React.FC = React.memo(() => {\n    const filters = useSelector((state: AppStateType) => state.filters.categories)\n    const activeItem = useSelector((state: AppStateType) => state.filters.activeCategory)\n    const dispatch = useDispatch()\n\n    return (\n        <div className=\"categories\">\n            <ul>\n                <li \n                    className={cn({'active': activeItem === null})}\n                    onClick={() => dispatch({type: HANDLE_ACTIVE_CATEGORY, payload: null})}\n                    >Все</li>\n                {filters.map(item => {\n                    return (\n                        <li \n                            className={cn({'active': activeItem === item})}\n                            onClick={() => dispatch({type: HANDLE_ACTIVE_CATEGORY, payload: item})} \n                            key={item}\n                        >{item}</li>\n                    )\n                })}\n            </ul>\n        </div>\n    )\n})\n\nexport default Categories","import React, { useState } from 'react'\nimport { LazyLoadComponent } from 'react-lazy-load-image-component'\nimport cn from 'classnames'\nimport { useSelector } from 'react-redux'\n\nimport { PizzaCardType } from '../types/types'\nimport { AppStateType } from '../redux/store'\n\ntype PizzaBlockType = {\n    item: PizzaCardType\n}\n\nconst PizzaBlock: React.FC<PizzaBlockType> = ({ item }) => {\n    const [activeType, setActiveType] = useState(item.types[0])\n    const [activeSize, setActiveSize] = useState(item.sizes[0])\n    const types = useSelector((state: AppStateType) => state.types)\n\n\n    return (\n        <div className=\"pizza-block\">\n            <LazyLoadComponent><img className=\"pizza-block__image\" src={item.imageUrl} alt=\"Pizza\" title={item.name} /></LazyLoadComponent>\n            <h4 className=\"pizza-block__title\">{item.name}</h4>\n            <div className=\"pizza-block__selector\">\n                <ul>\n                    {types.types.map((type, index) => {\n                        return <li \n                            key={index}\n                            onClick={() => setActiveType(index)}\n                            className={cn({\n                                'active': activeType === index,\n                                'disabled': !item.types.includes(index)\n                            })}\n                            >{type}</li>\n                    })}\n                </ul>\n                <ul>\n                    {types.sizes.map((size, index) => {\n                        return <li \n                            key={index}\n                            onClick={() => setActiveSize(size)}\n                            className={cn({\n                                'active': activeSize === size,\n                                'disabled': !item.sizes.includes(size)\n                            })}\n                            >{size} см.</li>\n                    })}\n                </ul>\n            </div>\n            <div className=\"pizza-block__bottom\">\n                <div className=\"pizza-block__price\">от {item.price} ₽</div>\n                <div className=\"button button--outline button--add\">\n                    <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\" fill=\"white\" />\n                    </svg>\n                    <span>Добавить</span>\n                    <i>2</i>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default PizzaBlock\n","import React, { useState, useEffect, useRef } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport cn from 'classnames'\n\nimport { HANDLE_ACTIVE_SORT } from '../redux/reducers/filtersReducer'\nimport { AppStateType } from '../redux/store'\n\nconst SortPopup: React.FC = React.memo(() => {\n    const [visiblePopup, setVisiblePopup] = useState(false)\n    const sortRef = useRef<HTMLInputElement>(null)\n    const filters = useSelector((state: AppStateType) => state.filters.sort)\n    const activeItem = useSelector((state: AppStateType) => state.filters.activeSort)\n    const dispatch = useDispatch()\n\n    const handleOutsideClick = (e: any): void => {\n        if(!e.path.includes(sortRef.current)) {\n            setVisiblePopup(false)\n        }\n    }\n\n    useEffect(() => {\n        document.body.addEventListener('click', handleOutsideClick)\n        return () => document.body.removeEventListener('click', handleOutsideClick)\n    }, [])\n\n    const toggleVisiblePopup = (): void => {\n        setVisiblePopup(!visiblePopup)\n    }\nconsole.log(typeof filters)\n    return (\n        <div className=\"sort\" ref={sortRef}>\n            <div className=\"sort__label\">\n                <svg className={cn({'rotated': visiblePopup})} width=\"10\" height=\"6\" viewBox=\"0 0 10 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M10 5C10 5.16927 9.93815 5.31576 9.81445 5.43945C9.69075 5.56315 9.54427 5.625 9.375 5.625H0.625C0.455729 5.625 0.309245 5.56315 0.185547 5.43945C0.061849 5.31576 0 5.16927 0 5C0 4.83073 0.061849 4.68424 0.185547 4.56055L4.56055 0.185547C4.68424 0.061849 4.83073 0 5 0C5.16927 0 5.31576 0.061849 5.43945 0.185547L9.81445 4.56055C9.93815 4.68424 10 4.83073 10 5Z\" fill=\"#2C2C2C\" />\n                </svg>\n                <b>Сортировка по:</b>\n                <span onClick={toggleVisiblePopup}>{filters.find(item => item.type === activeItem && item.name).name}</span>\n            </div>\n            {\n                visiblePopup && \n                <div className=\"sort__popup\">\n                    <ul>\n                        {filters.map(item => {\n                            return (\n                                <li \n                                    className={cn({'active': item.type === activeItem})}\n                                    onClick={() => dispatch({type: HANDLE_ACTIVE_SORT, payload: item.type})} \n                                    key={item.name}\n                                >{item.name}</li>\n                            )\n                        })}\n                    </ul>\n                </div>\n            }\n        </div>\n    )\n})\n\nexport default SortPopup\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport Categories from '../components/Categories'\nimport PizzaBlock from '../components/PizzaBlock'\nimport SortPopup from '../components/SortPopup'\n\nimport { getPizzasThunk } from '../redux/reducers/pizzasReducer'\nimport { AppStateType } from '../redux/store'\n\n\nconst Home: React.FC = () => {\n    const pizzas = useSelector((state: AppStateType) => state.pizzas)\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getPizzasThunk)\n    }, [])\n\n    return (\n        <div className=\"container\">\n            <div className=\"content__top\">\n                <Categories />\n                <SortPopup />\n            </div>\n            <h2 className=\"content__title\">Все пиццы</h2>\n            <div className=\"content__items\">\n                {pizzas.map(item => <PizzaBlock item={item} key={item.id} />)}\n            </div>\n        </div>\n    )\n}\n\nexport default Home\n"],"sourceRoot":""}